<ng-include src="'menu.html'"></ng-include>
<div class="main-module" ng-controller="ParamsCtrl">
    <div class="row">
        <span class="col-md-1">Type</span>

        <div class="col-md-3">
            <select class="form-control" ng-model="type_report"
                    ng-options="type_report as type_report.name for type_report in type_reports track by type_report.value"
                    ng-change="getAllParams(type_report.value)">
            </select>
        </div>

    </div>
    <div class="row row-param1">
        <label class="btn btn-sm btn-success divRightAlign" ng-click="add($event,0,0,'')">Add</label>
    </div>
    <script type="text/ng-template" id="paramsTree">
        <div class="row row-param pl{{data.level}}" ng-click="data.open=!data.open">
            <i class="pull-left glyphicon"
               ng-class="{'glyphicon-plus-sign': !data.open && data.has_child, 'glyphicon-minus-sign': data.open && data.has_child}"></i>
            <span>{{data.title}}</span>
            <label class="btn btn-sm btn-success divRightAlign"
                   ng-click="add($event,data.id, data.level, data.title)">Add</label>
            <label class="btn btn-sm btn-warning divRightAlign"
                   ng-click="edit($event,data.id,data.level, data.title)">Edit</label>
            <label class="btn btn-sm btn-danger divRightAlign" ng-click="del($event,data.id,data.level, data.title)"
                   ng-show="!data.has_child">Del</label>
        </div>
        <div ng-show="data.open">
            <div ng-repeat="data in data.datas" ng-include="'paramsTree'"></div>
        </div>
    </script>
    <div ng-repeat="data in datas" ng-include="'paramsTree'"></div>
</div>
<script type="text/ng-template" id="addParamContent.html">
    <div class="modal-body" id="modal-body">
        <div>
            <span>{{message}}</span>
        </div>

        <input type="text" ng-show="{{info.flag!=3}}" ng-model="title"/>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary" type="button" ng-click="ok()">{{btnSubmit}}</button>
        <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button>
    </div>

</script>
